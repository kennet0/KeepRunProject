//  Variables
int PulseSensorPurplePin = 0; //심박센서 A0 연결 
int Signal;                // 심박센서 데이터
int errorcount = 0; //에러 카운트
int BUTTON =3; // 버튼 핀 번호
int BTcount=0; // 버튼 카운트 

void setup() {
  Serial.begin(9600);  
  pinMode(BUTTON, INPUT_PULLUP);  
}

void loop() {
  boolean buttonPressed = digitalRead(BUTTON);
    if(buttonPressed==LOW & BTcount==0){
      BTcount=1;
      Serial.println("111");
      while(BTcount==1){
         Signal = analogRead(PulseSensorPurplePin);  // Read the PulseSensor's value.
         int bpm = 60000/Signal;   //심장박동수
            if(Signal>300 & Signal < 2000){
               Serial.println(bpm);  
               }
            delay(1000);
     }
  }if(buttonPressed==LOW & BTcount==1){
    BTcount=0;
    }
}

